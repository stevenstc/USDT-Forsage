(this["webpackJsonpusdt-forsage"]=this["webpackJsonpusdt-forsage"]||[]).push([[0],{198:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(57),o=n.n(c),s=n(2),l=n.n(s),i=n(3),u=n(9),d=n(10),m=n(12),f=n(11),p=n(58),h=n.n(p),b={tronWeb:!1,contract:!1,setTronWeb:function(e){this.tronWeb=e},setContract:function(e,t){var n=this;return Object(i.a)(l.a.mark((function a(){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.contract().at(t);case 2:n.contract=a.sent;case 3:case"end":return a.stop()}}),a)})))()}},v=n(8),w="TYVytxg46X3Wyo4SAGBrRc5pMS39WAj38b",x=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={texto:"Loading...",sponsor:"",level:"Loading...",levelPrice:0,balanceUSDT:"Loading...",aprovedUSDT:0,contractUSDT:{}},a.deposit=a.deposit.bind(Object(v.a)(a)),a.estado=a.estado.bind(Object(v.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.setContract(window.tronWeb,w);case 2:this.estado(),setInterval((function(){return t.estado()}),1e3);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"estado",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t,n,a,r,c,o,s,i,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.tronWeb.trx.getAccount();case 2:t=e.sent,t=window.tronWeb.address.fromHex(t.address),n=0,a=15;case 6:if(!(a>=0)){e.next=14;break}return e.next=9,b.contract.usersActiveX3Levels(t,a).call();case 9:if(!e.sent){e.next=11;break}n++;case 11:a--,e.next=6;break;case 14:return e.next=16,b.contract.levelPrice(n+1).call();case 16:return r=e.sent,e.next=19,b.contract.balanceOfUSDT(t).call();case 19:return c=e.sent,c=parseInt(c._hex)/Math.pow(10,6),e.next=23,b.contract.tokenUSDT().call();case 23:return o=e.sent,e.next=26,window.tronWeb.contract().at(o);case 26:return s=e.sent,e.next=29,s.allowance(t,w).call();case 29:i=e.sent,console.log(i),i=parseInt(i._hex)/Math.pow(10,6),u=i>0?"Buy next level":"Register",this.setState({level:n,levelPrice:parseInt(r._hex)/Math.pow(10,6),balanceUSDT:c,texto:u,aprovedUSDT:i,contractUSDT:s});case 34:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deposit",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t,n,a,r,c,o,s,i,u,d,m,f,p,h,v,x,g,E,k,y,W,O;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.level,a=t.levelPrice,r=t.balanceUSDT,c=t.aprovedUSDT,o=t.contractUSDT,s=a,s=parseFloat(s),e.next=5,window.tronWeb.trx.getAccount();case 5:return i=e.sent,i=window.tronWeb.address.fromHex(i.address),e.next=9,window.tronWeb.trx.getBalance();case 9:return u=e.sent,d=window.tronWeb.fromSun(u),d=parseFloat(d),console.log(d),console.log(s),e.next=16,b.contract.owner().call();case 16:return m=e.sent,f=window.tronWeb.address.fromHex(m),p=c,e.next=21,b.contract.LAST_LEVEL().call();case 21:if(h=e.sent,!(d>=50&&p>=s&&r>=s&&n<h)){e.next=50;break}if(!((v=document.location.href).indexOf("?")>0)){e.next=38;break}for(x=v.split("?")[1],g=x.split("&"),E={},k=0,y=g.length;k<y;k++)W=g[k].split("="),E[W[0]]=unescape(decodeURI(W[1]));if(!E.ref){e.next=38;break}return W=E.ref.split("#"),e.next=33,b.contract.idToAddress(W[0]).call();case 33:return O=e.sent,e.next=36,b.contract.isUserExists(O).call();case 36:if(!e.sent){e.next=38;break}f=window.tronWeb.address.fromHex(O);case 38:return this.setState({sponsor:f}),e.next=41,b.contract.isUserExists(i).call();case 41:if(!e.sent){e.next=46;break}return e.next=44,b.contract.buyNewLevel(n+1,s*Math.pow(10,6)).send();case 44:e.next=48;break;case 46:return e.next=48,b.contract.registrationExt(f,s*Math.pow(10,6)).send();case 48:e.next=55;break;case 50:if(console.log(p),!(p<=0)){e.next=54;break}return e.next=54,o.approve(w,"115792089237316195423570985008687907853269984665640564039457584007913129639935").send();case 54:s>200&&d>250?s>d?d<=50?window.alert("You do not have enough funds in your account you place at least 250 TRX"):(document.getElementById("amount").value=d-50,window.alert("You must leave 50 TRX free in your account to make the transaction")):(document.getElementById("amount").value=s-50,window.alert("You must leave 50 TRX free in your account to make the transaction")):window.alert("You do not have enough funds in your account you place at least 250 TRX");case 55:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"text-center"},r.a.createElement("h6",null,"Balance: ",this.state.balanceUSDT," ",r.a.createElement("strong",null,"USDT"),r.a.createElement("br",null)),r.a.createElement("h3",null,"current level = ",this.state.level),r.a.createElement("button",{onClick:function(){return e.deposit()},className:"primary-btn"},this.state.texto),r.a.createElement("p",null,"Price ",this.state.levelPrice," USDT"),r.a.createElement("p",null,"You must have ~ 30 TRX to make the transaction"))}}]),n}(a.Component),g=n(59),E=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={direccion:"",link:"Haz una inversi\xf3n para obtener el LINK de referido",registered:!1,balanceRef:0,totalRef:0,invested:0,paidAt:0,my:0,withdrawn:0},a.Investors=a.Investors.bind(Object(v.a)(a)),a.Link=a.Link.bind(Object(v.a)(a)),a.withdraw=a.withdraw.bind(Object(v.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.setContract(window.tronWeb,w);case 2:setInterval((function(){return t.Link()}),1e3),setInterval((function(){return t.Investors()}),7e3);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"Link",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.tronWeb.trx.getAccount();case 2:return t=e.sent,t=window.tronWeb.address.fromHex(t.address),e.next=6,b.contract.users(t).call();case 6:return n=e.sent,e.next=9,b.contract.isUserExists(t).call();case 9:if(!e.sent){e.next=16;break}(a=document.location.href).indexOf("?")>0&&(a=a.split("?")[0]),t=a+"?ref="+parseInt(n.id._hex),this.setState({link:t}),e.next=17;break;case 16:this.setState({link:"Haz una inversi\xf3n para obtener el LINK de referido"});case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Investors",value:function(){var e=Object(i.a)(l.a.mark((function e(t){var n,a,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.tronWeb.trx.getAccount();case 2:n=e.sent,n=window.tronWeb.address.fromHex(n.address),a=[],c=1;case 6:if(!(c<=15)){e.next=20;break}return e.next=9,b.contract.usersActiveX3Levels(n,c).call();case 9:if(!e.sent){e.next=16;break}return e.next=12,b.contract.usersX3Matrix(n,c).call();case 12:o=e.sent,a[c]=r.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-6",key:"level"+c},r.a.createElement("div",{className:"choose__item"},r.a.createElement("img",{src:"img/choose/choose-"+c+".svg",alt:"",width:"50%"}),r.a.createElement("h5",null,"Level"),r.a.createElement("p",null,"Referers ",o[1].length," ",r.a.createElement("strong",null,"|")," cycles ",parseInt(o[1].length/3)))),e.next=17;break;case 16:a[c]=r.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-6",key:"level"+c},r.a.createElement("div",{className:"choose__item"},r.a.createElement("h5",null,"Level ",c," (Inactive) ")));case 17:c++,e.next=6;break;case 20:this.setState({canastas:a});case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.contract.withdraw().send();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.balanceRef,n=e.totalRef,a=e.invested,c=e.withdrawn,o=e.my,s=(e.direccion,e.link),l=t+o;return l=l.toFixed(6),l=parseFloat(l),t=t.toFixed(6),t=parseFloat(t),n=n.toFixed(6),n=parseFloat(n),a=a.toFixed(6),a=parseFloat(a),c=c.toFixed(6),c=parseFloat(c),o=o.toFixed(6),o=parseFloat(o),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"My referral link:"),r.a.createElement("p",null,r.a.createElement("a",{style:{color:"blue"},href:s},s)," \xa0\xa0",r.a.createElement(g.CopyToClipboard,{text:s},r.a.createElement("button",{type:"button",className:"primary-btn"},"Copy")))))),r.a.createElement("div",{className:"row"},this.state.canastas))}}]),n}(a.Component),k=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={accountAddress:"Billetera NO conectada",accountBalance:"Billetera NO conectada",accountBandwidth:"Billetera NO conectada"},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){return e.fetchAccountAddress()}),1e3),setInterval((function(){return e.fetchAccountBalance()}),1e3),setInterval((function(){return e.fetchAccountBandwidth()}),1e3)}},{key:"fetchAccountAddress",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.tronWeb.trx.getAccount();case 2:t=e.sent,n=t.address,a=window.tronWeb.address.fromHex(n),this.setState({accountAddress:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchAccountBalance",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.tronWeb.trx.getBalance();case 2:t=e.sent,n=window.tronWeb.fromSun(t),this.setState({accountBalance:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchAccountBandwidth",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.tronWeb.trx.getBandwidth();case 2:t=e.sent,this.setState({accountBandwidth:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.accountAddress,n=e.accountBalance;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Wallet Conected:"),r.a.createElement("p",null,r.a.createElement("strong",null,t),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",null,"Balance:"),r.a.createElement("br",null),n," ",r.a.createElement("strong",null,"TRX"),r.a.createElement("br",null)))}}]),n}(a.Component),y=n(60),W=n.n(y),O="https://chrome.google.com/webstore/detail/ibnejdfjmmkpcnlpebklmnkoeoihofec/",j=r.a.createElement("div",{className:"col-sm-4 text-center"},r.a.createElement("img",{src:W.a,className:"img-fluid",alt:"TronLink logo"})),N=function(){window.open(O,"_blank")},T=function(e){var t=e.installed;return void 0!==t&&t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tronLink row",onClick:N,style:{padding:"3em"}},r.a.createElement("div",{className:"info col-sm-8"},r.a.createElement("h1",null,"Log in Required"),r.a.createElement("p",null,"TronLink is installed but you must first log in. Open TronLink from the browser bar and set up your first wallet or decrypt a previously created wallet.")),j)):r.a.createElement("div",{className:"row",onClick:N},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("h1",null,"TronLink Required"),r.a.createElement("p",null,"To create a post or tip others you must install TronLink. TronLink is a TRON wallet for the browser that can be ",r.a.createElement("a",{href:O,target:"_blank",rel:"noopener noreferrer"},"installed from the Chrome Webstore"),". Once installed, return back and refresh the page.")),j)},S=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={tronWeb:{installed:!1,loggedIn:!1}},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var n={installed:!!window.tronWeb,loggedIn:window.tronWeb&&window.tronWeb.ready};if(n.installed)return t.setState({tronWeb:n}),e();var a=0,r=setInterval((function(){if(a>=10){return window.tronWeb=new h.a("https://api.trongrid.io","https://api.trongrid.io","https://api.trongrid.io"),t.setState({tronWeb:{installed:!1,loggedIn:!1}}),clearInterval(r),e()}if(n.installed=!!window.tronWeb,n.loggedIn=window.tronWeb&&window.tronWeb.ready,!n.installed)return a++;t.setState({tronWeb:n}),e()}),100)}));case 2:this.state.tronWeb.loggedIn||(window.tronWeb.defaultAddress={hex:window.tronWeb.address.toHex("TWiWt5SEDzaEqS6kE5gandWMNfxR2B5xzg"),base58:"TWiWt5SEDzaEqS6kE5gandWMNfxR2B5xzg"},window.tronWeb.on("addressChange",(function(){t.state.tronWeb.loggedIn||t.setState({tronWeb:{installed:!0,loggedIn:!0}})}))),b.setTronWeb(window.tronWeb);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.tronWeb.installed?this.state.tronWeb.loggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"hero set-bg","data-setbg":"img/hero-bg.jpg",style:{backgroundImage:"url('img/hero-bg.jpg')"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-5"},r.a.createElement("div",{className:"hero__text"},r.a.createElement(k,null))),r.a.createElement("div",{className:"col-lg-5 offset-lg-2"},r.a.createElement("div",{className:"hero__form"},r.a.createElement(x,null)))))),r.a.createElement("section",{className:"choose spad"},r.a.createElement("div",{className:"container"},r.a.createElement(E,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(T,{installed:!0}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(T,null)))}}]),n}(a.Component),I=document.getElementById("root");o.a.render(r.a.createElement(S,null),I)},60:function(e,t,n){e.exports=n.p+"static/media/TronLinkLogo.d3a8f115.png"},61:function(e,t,n){e.exports=n(198)},90:function(e,t){},91:function(e,t){}},[[61,1,2]]]);
//# sourceMappingURL=main.2e735938.chunk.js.map